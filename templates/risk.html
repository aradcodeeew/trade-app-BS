<!-- risk.html -->
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>ŸÖÿØ€åÿ±€åÿ™ ÿ±€åÿ≥⁄©</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
  <style>
    .glass-box {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      padding: 16px;
      margin-top: 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .note-item {
      background-color: rgba(255, 255, 255, 0.05);
      padding: 8px 10px;
      margin-bottom: 8px;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .note-item button {
      background: none;
      border: none;
      color: #dc3545;
      font-size: 18px;
      cursor: pointer;
    }

    .add-btn {
      background-color: #28a745;
      color: white;
      padding: 6px 14px;
      border: none;
      border-radius: 6px;
      font-size: 15px;
      cursor: pointer;
      margin-bottom: 12px;
    }

    .save-btn, .cancel-btn {
      padding: 6px 10px;
      font-size: 15px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }

    .save-btn { background-color: #007bff; color: white; }
    .cancel-btn { background-color: #dc3545; color: white; }

    #note-form {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="hamburger" onclick="toggleSidebar()">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
  </div>

  <div class="sidebar" id="sidebar">
    <ul>
      <li><a href="/capital">capital risk</a></li>
      <li><a href="/risk"> risk manage </a></li>
      <li><a href="/emotion">emotional manage</a></li>
      <li><a href="/dashboard">dashboard</a></li>
      <li><a href="{{ url_for('learn') }}"> Learn</a></li>
      <li><a href="/strategies">startegy</a></li>
      <li><a href="/history">history</a></li>
      <li><a href="/export-backup"> Export / Backup</a></li>
      <li><a href="/logout">Exite</a></li>
    </ul>
  </div>

  <div class="container">
    <h1>ŸÖÿØ€åÿ±€åÿ™ ÿ±€åÿ≥⁄©</h1>

    <div class="glass-box">
      <button onclick="showNoteInput()" class="add-btn">‚ûï new</button>

      <form method="POST" id="note-form" style="display: none;">
        <div style="display: flex; gap: 10px; margin-top: 10px;">
          <input type="text" name="note" id="note-input" style="flex: 1; padding: 6px;" placeholder="€åÿßÿØÿØÿßÿ¥ÿ™ ÿ¨ÿØ€åÿØ...">
          <button type="submit" class="save-btn">‚úîÔ∏è</button>
          <button type="button" onclick="cancelNote()" class="cancel-btn">‚ùå</button>
        </div>
      </form>

      {% for item in notes %}
        <div class="note-item">
          <span>{{ item }}</span>
          <form action="{{ url_for('delete_risk_note', index=loop.index0) }}" method="post">
            <button title="delete">üóëÔ∏è</button>
          </form>
        </div>
      {% else %}
        <p style="opacity: 0.6;">no note buddy...</p>
      {% endfor %}
    </div>
  </div>

  <script>
    function toggleSidebar() {
      document.getElementById("sidebar").classList.toggle("active");
    }

    function showNoteInput() {
      document.getElementById("note-form").style.display = "block";
      document.querySelector(".add-btn").style.display = "none";
      document.getElementById("note-input").focus();
    }

    function cancelNote() {
      document.getElementById("note-form").style.display = "none";
      document.querySelector(".add-btn").style.display = "inline-block";
      document.getElementById("note-input").value = "";
    }
  </script>
</body>
</html>
